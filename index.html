<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Engineering Faculty Portal</title>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    emailjs.init("d9IT7uMZf8i1YmPOGNAFU");
});
</script>

<style>
body { font-family: Arial; margin:0; background:#f5f5f5; }
header { background:#003d82; color:white; padding:15px; text-align:center; }
.container { padding:30px; }
.card { background:white; padding:20px; margin-bottom:20px; border-radius:8px; }
button { padding:10px 15px; background:#003d82; color:white; border:none; cursor:pointer; border-radius:6px; }
button:hover { opacity:0.9; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; }
.modal-content { background:white; padding:20px; border-radius:10px; width:300px; }
input { width:100%; padding:8px; margin-bottom:10px; }
</style>
</head>

<body>

<header>
<h2>Engineering Faculty Events</h2>
</header>

<div class="container">
<div class="card">
<h3>Robotics Workshop</h3>
<p>Date: 2026-02-20</p>
<button onclick="openModal()">Register Now</button>
</div>
</div>

<!-- Modal -->
<div id="eventModal" class="modal">
<div class="modal-content">
<h3>Register</h3>
<form id="eventRegistrationForm">
<input type="text" id="participantName" placeholder="Full Name" required>
<input type="email" id="participantEmail" placeholder="Email" required>
<input type="tel" id="participantPhone" placeholder="Phone" required>
<button type="submit">Submit</button>
</form>
<button onclick="closeModal()">Close</button>
</div>
</div>

<script>
function openModal() {
document.getElementById("eventModal").style.display="flex";
}

function closeModal() {
document.getElementById("eventModal").style.display="none";
}

document.getElementById('eventRegistrationForm').addEventListener('submit', function(e) {
e.preventDefault();

const name = document.getElementById('participantName').value;
const email = document.getElementById('participantEmail').value;
const phone = document.getElementById('participantPhone').value;

emailjs.send("service_9im0w68", "template_tkqq1vv", {
to_name: name,
to_email: email,
event_title: "Robotics Workshop",
event_date: "2026-02-20",
event_time: "2:00 PM",
location: "Mechanical Lab 3"
}).then(function() {
alert("✅ Registration successful! Confirmation email sent.");
}, function(error) {
console.log(error);
alert("❌ Email failed. Check template variables.");
});

closeModal();
this.reset();
});
</script>

</body>
</html>